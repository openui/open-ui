---
menu: Components
name: Select with Template (Editor's Draft)
path: /components/select
pathToResearch: /components/select.research
---

import SelectAnatomy from '../components/select-anatomy'

## Overview

The `<select>` is a control that provides a list of options for the user to select
from.

## Use Cases

The `<select>` control is primarily leveraged to select an option for within a form. For example
when your buying a shirt you may be provided with a `<select>` that has options for sizes that you
then select the appropriate one for you.

## Prior Art/Examples

- [Ant Design](https://ant.design/components/select/)
- [Carbon Design System](https://www.carbondesignsystem.com/components/select/code/)
- [FAST DNA](https://explore.fast.design/components/select)
- [Atlas Kit](https://atlaskit.atlassian.com/packages/core/select)

## &lt;select&gt; Attributes

| Attribute Name | Type     | Default Value                         | Description                                                                                    |
| -------------- | -------- | ------------------------------------- | ---------------------------------------------------------------------------------------------- |
| `autocomplete` | `string` | `off`                                 | Allows the developer to provide a hint on how to search the content within the `<option>`(s)   |
| `autofocus`    | `bool`   | `false`                               | If set to `true` the `input` will have focus set on page load                                  |
| `disabled`     | `bool`   | inherited from containing element     | If set to `true` the user will not be able to interact with the control                        |
| `form`         | `string` | the form that contains the `<select>` | Represents the form owner, via the `form` attribute being the same as the `id` of the `<form>` |
| `multiple`     | `bool`   | `false`                               | If set to true this will allow more than one `<option>`                                        |
| `name`         | `string` | `null`                                | Represents the name of the control                                                             |
| `required`     | `bool`   | `false`                               | A value must be provided for the control if set to `true`                                      |
| `size`         | `int`    | `0`                                   | If the `<select>` is shown with a scrollbar, this represents how many `<option>`s are visible. |

## &lt;select&gt; Methods

| Name                                                                                                  | Description                                                                                                                                              |
| ----------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [autofocus](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/autofocus)             | If set to `true` the `input` will have focus set on page load                                                                                            |
| [disabled](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/disabled)               | If set to `true` the user will not be able to interact with the control                                                                                  |
| [form](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/form)                       | Represents the form owner, via the `form` attribute being the same as the `id` of the `<form>`                                                           |
| [labels](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/labels)                   | A NodeList containing the `<label>` elements associated with the `<select>` element.                                                                     |
| length                                                                                                | The number of `<option>` elements in the `<select>` element                                                                                              |
| multiple                                                                                              | If set to true this will allow more than one `<option>`                                                                                                  |
| name                                                                                                  | Represents the name of the control                                                                                                                       |
| [options](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/options)                 | Returns a `HTMLOptionsCollection` of the `<option>` elements contained by the `<select>` element                                                         |
| required                                                                                              | A value must be provided for the control if set to `true`                                                                                                |
| [selectedIndex](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/selectedIndex)     | The index of the first or last selected `<option>` element, depending on the value of `multiple`                                                         |
| [selectedOptions](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/selectedOptions) | An `HTMLCollection` of the selected `<option>` elements                                                                                                  |
| size                                                                                                  | If the `<select>` is shown with a scrollbar, this represents how many `<option>`s are visible.                                                           |
| [type](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement/type)                       | Returns either `"select-multiple"` or `"select-one"`                                                                                                     |
| validationMessage                                                                                     | Represents the message that describes the validation constraints that the control does not satisfy                                                       |
| validity                                                                                              | Represents the current validity state of the control                                                                                                     |
| value                                                                                                 | Returns the `value` property of the first selected `<option>` if there is one, otherwise an empty string                                                 |
| willValidate                                                                                          | A `boolean` that indicates whether the button is a candidate for constraint validation. It is false if any conditions bar it from constraint validation. |

#### Events

### Appearance

### Anatomy

#### Diagram

<SelectAnatomy />

#### Structure

- `<select>` - The root element that contains the button and popup **[required]**
- `<optgroup>` - Groups `<options>` together with a label **[optional]**
- `<option>` - Can have one or more and represents the potential values that can be chosen by the user **[required]**

#### CSS Parts

## Behavior

### States

#### open

This state is applied to the `<select>` when the popup is visible to the user.

#### required

Applies when the `required` attribute is set to `true`

#### valid

Set when the element meets all its validation constraints,
and is therefore considered to be valid.

#### invalid

Set when the element does not meet its validation constraints,
and is therefore considered to be invalid.

### Interaction &amp; transition of states

**Default State**

- Show the currently selected `<option>` or the first `<option>`
- When the user invokes the `part-button` by:
  - a [pointerup](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/pointerup_event) or
    [click](https://developer.mozilla.org/en-US/docs/Web/API/Element/click_event) event is fired
  - the user presses the `space` or `enter` key
- The state of the `<select>` is set to `open`

**Open State**

- The currently selected `<option>`, or the first if one isn't selected, should be
  visible within the popup. This may require moving the list to accomodate popup positioning
  and available space.
- The user can dismiss the popup and remove the state of `open` from the `<select>` in any of the
  following manners:
  - The user clicks outside of the popup
  - Presses the escape key
  - Selects one, or more (if `multiple` is true), by clicking or hitting `enter` or `space` key

### Popup positioning

When the `<select>` is in its `open` state the popup should

- Open in the direction that has the most real estate

[QUESTION - Needs research]: Some frameworks allow a forced directionality with the default being an auto
positioning as described above.

#### Use with Assistive Technology

Implements the [combobox role](https://www.w3.org/TR/core-aam-1.1/#role-map-combobox) per the
[HTML AAM spec](https://www.w3.org/TR/html-aam-1.0/#html-element-role-mappings).

### Security

#### Avoiding UI spoofing

If a popup is rendered outside of the viewport, then it is highly recommended to limit control over the possible
adjustments that an author can make. This is due to the developer being able to overlay their content with the
application's UI, of which the user trusts and can result in [clickjacking](https://en.wikipedia.org/wiki/Clickjacking) due to UI spoofing.
If the application enables the author to have complete control over its appearance,
the implementor **MUST** render the popup within the viewport.

This also **MUST** apply to embedded content, such as an `<iframe>` as it may try to mimick the appearance of the
site it is being embedded on.

### Open Questions

- Provide arbitrary HTML into `<option>` elements
  - What is the value of an option with complex content? [[Issue 69](https://github.com/WICG/open-ui/issues/69)]
  - How does focus work with focusable children within the control?
  - How does form validation work?

---

## Resources

- [MDN Reference on Current &ltSelect&gt](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select)
- [MDN Reference of HTMLSelectElement](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSelectElement)
- [WHATWG Living Standard on &ltSelect&gt](https://html.spec.whatwg.org/multipage/form-elements.html#the-select-element)

---

<br />

##### Acknowledgements

Some method and attribute definitions were sourced from the [MDN definitions](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select)
